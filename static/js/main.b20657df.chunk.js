(this.webpackJsonpnasa=this.webpackJsonpnasa||[]).push([[0],{31:function(e,t,a){e.exports=a(46)},41:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),l=a.n(c),o=a(14),s=a(6),i=(a(40),a(41),a(16));var u=Object(o.b)((function(e){return{gallery:e.gallery,isLoader:e.isLoader}}),(function(e){return{}}))((function(e){var t=e.gallery,a=e.isLoader,r=void 0===a||a;return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-info"},n.a.createElement("a",{className:"navbar-brand",href:"#"},"NASA Calendar"),n.a.createElement("div",{className:"navbar-collapse",id:"navbarNavAltMarkup"},n.a.createElement("div",{className:"navbar-nav"},n.a.createElement(i.b,{className:"nav-item nav-link",to:"/"},"Home"),n.a.createElement(i.b,{className:"nav-item nav-link",to:"/calendar"},"Calendar"),n.a.createElement(i.b,{className:"nav-item nav-link",to:"/gallery"},"Gallery ",n.a.createElement("sup",null,t.length))),n.a.createElement("div",{className:r?"spinner-border text-light nav_loader _active":"spinner-border text-light nav_loader",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))))}));function p(){return n.a.createElement("div",{className:"homepage"},n.a.createElement("h2",{className:"home-title"},"Nasa Picture Calendar"),n.a.createElement("div",{className:"logo_cont"},n.a.createElement("img",{src:"./assets/logo.png",alt:"homepage_logo"})))}var E=a(29);a(43);var d=Object(o.b)((function(e){return{currentDate:e.currentDate,currentImg:e.currentImg,currentPicTitle:e.currentPicTitle,currentPicExplanation:e.currentPicExplanation,currentPicDate:e.currentPicDate,isAlertOpen:e.isAlertOpen,isAlertFutureOpen:e.isAlertFutureOpen}}),(function(e){return{sendData:function(t){e({type:"SEND_REQUEST",payload:t})},setCurrentDate:function(t){e({type:"SET_CURRENT_DATE",payload:t})},onSendPicToGal:function(t,a,r){e({type:"SEND_PIC_TO_GAL",payload:{url:t,title:a,date:r}}),e({type:"SET_GALLERY_TO_LS"})},loaderActive:function(){e({type:"START_LOADER"})},onCloseAlert:function(){e({type:"ALERT_YOUTUBE_CLOSE"})},onOpenAlertFuture:function(){e({type:"ALERT_FUTURE_OPEN"})},onCloseAlertFuture:function(){e({type:"ALERT_FUTURE_CLOSE"})}}}))((function(e){var t=e.currentDate,a=e.currentImg,r=e.currentPicTitle,c=e.currentPicExplanation,l=e.currentPicDate,o=e.isAlertOpen,s=e.isAlertFutureOpen,i=e.sendData,u=e.setCurrentDate,p=e.onSendPicToGal,d=e.loaderActive,m=e.onCloseAlert,_=e.onOpenAlertFuture,f=e.onCloseAlertFuture;function g(e){var t=!0,a=[],r=JSON.parse(localStorage.getItem("NASA_gallery"));return r&&(r.forEach((function(e){a.push(e.picTitle)})),t=!a.includes(e)),t}return n.a.createElement("div",{className:"calendar_page"},n.a.createElement("div",{className:o.status?"alert alert-danger calendar__alert _active":"alert alert-danger calendar__alert",role:"alert"},n.a.createElement("span",{role:"img","aria-label":"emoji"},"\u26a0\ufe0f")," ",o.text,n.a.createElement("a",{href:o.url,onClick:m,target:"_blank",rel:"noopener noreferrer"},"link"),n.a.createElement("div",{onClick:m},"X")),n.a.createElement("div",{className:s?"alert alert-warning calendar__alert _active":"alert alert-warning calendar__alert",role:"alert"},n.a.createElement("span",null," Sorry, chosen date is only in future "),n.a.createElement("div",{onClick:f},"X")),n.a.createElement("div",{className:"calendar_cont"},n.a.createElement(E.a,{onChange:function(e){e<new Date?(i(e),u(e),d(),m(),f()):_()},value:t})),n.a.createElement("div",{className:"card card_cont"},n.a.createElement("img",{src:a,className:"card-img-top",alt:"img_from_base"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},r),n.a.createElement("p",{className:"card-text"},c),n.a.createElement("button",{href:"#",onClick:function(e,t,a){a.preventDefault(),p(e,t,l),g(t),a.target.textContent="Added \u2713",a.target.setAttribute("disabled","true")}.bind(this,a,r),className:"btn btn-info",disabled:!g(r)},g(r)?"Add to Gallery":"Added \u2713"))))}));var m=Object(o.b)((function(e){return{galleryPics:e.gallery}}),(function(e){return{onRemovePic:function(t){e({type:"REMOVE_PIC_FROM_GAL",payload:t}),e({type:"SET_GALLERY_TO_LS"})}}}))((function(e){var t=this,a=e.galleryPics,r=e.onRemovePic;function c(e,t){t.preventDefault(),r(e)}return n.a.createElement("div",{className:"gallery_cont"},0===a.length?n.a.createElement("div",{className:"gallery__empty"},"Gallery is empty now. You can full it with 'Astronomy Pictures of the Day' ",n.a.createElement("p",null,"\ud83d\udcf7")):a.map((function(e,a){return n.a.createElement("div",{key:a,className:"card card_cont_gal"},n.a.createElement("a",{href:e.picUrl,target:"_blank",title:"click to look full photo",rel:"noopener noreferrer"},n.a.createElement("img",{src:e.picUrl,className:"card-img-top",alt:"img_from_base"})),n.a.createElement("div",{className:"card-body gallery_card-body"},n.a.createElement("h5",{className:"card-title gallery_card_title"},e.picTitle),n.a.createElement("h6",null,e.picDate),n.a.createElement("button",{onClick:c.bind(t,e.picTitle),className:"btn btn-danger"},"Remove")))})))}));function _(){return n.a.createElement("div",{className:"footer"},n.a.createElement("div",{className:"footer_logo"},n.a.createElement("a",{href:"https://api.nasa.gov",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"./assets/logo.png",alt:"footer_link"}))),n.a.createElement("p",null,"Created by ",n.a.createElement("a",{href:"https://github.com/AntonKurdo",target:"_blank",rel:"noopener noreferrer"},"Anton Kurdo")))}var f=function(e){var t=e.getCurrentDate,a=e.getGalleryFromLS;return Object(r.useEffect)((function(){t(),a()}),[]),n.a.createElement("div",{className:"App"},n.a.createElement(u,null),n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/",exact:!0},n.a.createElement(p,null)),n.a.createElement(s.a,{path:"/calendar"},n.a.createElement(d,null)),n.a.createElement(s.a,{path:"/gallery"},n.a.createElement(m,null))),n.a.createElement(_,null))},g=Object(o.b)((function(e){return{}}),(function(e){return{getCurrentDate:function(){e({type:"GET_CURRENT_DATE"})},getGalleryFromLS:function(){e({type:"GET_GALLERY_FROM_LS"})}}}))(f),y=a(30),b=a(15),v=a(13),O=a.n(v),T={currentImg:"",currentDate:new Date,currentPicTitle:"",currentPicExplanation:"",currentPicDate:"",gallery:[],isLoader:!1,isAlertOpen:{status:!1,text:"",url:"https://www.youtube.com/"},isAlertFutureOpen:!1},A=a(7),h=a.n(A),N=a(8),S=h.a.mark(D),R=h.a.mark(L);function D(e){var t,a,r,n,c,l,o,s,i;return h.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return s=function(){return fetch(l).then((function(e){if(200===e.status)return e.json();o=!0})).then((function(e){return e}))},t=e.payload,a=t.getFullYear(),r=1===(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1):t.getMonth()+1,n=1===t.getDate().toString().length?"0"+t.getDate():t.getDate(),c="".concat(a,"-").concat(r,"-").concat(n),l="https://api.nasa.gov/planetary/apod?api_key=zpKx82ygfdep8Q6abpJX8DQJyKOns6ztJh3LeaAy&date=".concat(c),o=!1,u.next=10,Object(N.a)(s);case 10:if(i=u.sent,o){u.next=19;break}if(i.url.includes("youtube")){u.next=17;break}return u.next=15,Object(N.b)({type:"GET_DATA",payload:i});case 15:u.next=19;break;case 17:return u.next=19,Object(N.b)({type:"ALERT_YOUTUBE_OPEN",payload:{text:"Sorry, there is no picture on this date, but you can watch the video of the day on the ",url:i.url}});case 19:return u.next=21,Object(N.b)({type:"STOP_LOADER"});case 21:case"end":return u.stop()}}),S)}function L(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)("SEND_REQUEST",D);case 2:case"end":return e.stop()}}),R)}var x=h.a.mark(F),w=h.a.mark(I),k=h.a.mark($),C=h.a.mark(M),P=h.a.mark(Y),U=h.a.mark(J),j=h.a.mark(X);function G(e){var t=e.payload;localStorage.setItem("NASA_date",t)}function F(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("NASA_date"))){t.next=8;break}return t.next=4,Object(N.b)({type:"SET_CURRENT_DATE",payload:new Date(e)});case 4:return t.next=6,Object(N.b)({type:"SEND_REQUEST",payload:new Date(e)});case 6:t.next=12;break;case 8:return t.next=10,Object(N.b)({type:"SET_CURRENT_DATE",payload:new Date});case 10:return t.next=12,Object(N.b)({type:"SEND_REQUEST",payload:new Date});case 12:case"end":return t.stop()}}),x)}function I(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.c)((function(e){return e.gallery}));case 2:e=t.sent,localStorage.setItem("NASA_gallery",JSON.stringify(e));case 4:case"end":return t.stop()}}),w)}function $(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("NASA_gallery"))){t.next=4;break}return t.next=4,Object(N.b)({type:"SET_GALLERY_FROM_LS",payload:JSON.parse(e)});case 4:case"end":return t.stop()}}),k)}function M(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)("SET_CURRENT_DATE",G);case 2:case"end":return e.stop()}}),C)}function Y(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)("GET_CURRENT_DATE",F);case 2:case"end":return e.stop()}}),P)}function J(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)("SET_GALLERY_TO_LS",I);case 2:case"end":return e.stop()}}),U)}function X(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)("GET_GALLERY_FROM_LS",$);case 2:case"end":return e.stop()}}),j)}var Q=Object(y.a)(),B=Object(b.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DATA":return O()(e,{currentImg:{$set:t.payload.url},currentPicTitle:{$set:t.payload.title},currentPicExplanation:{$set:t.payload.explanation},currentPicDate:{$set:t.payload.date}});case"SET_CURRENT_DATE":return O()(e,{currentDate:{$set:t.payload}});case"SET_GALLERY_FROM_LS":return O()(e,{gallery:{$set:t.payload}});case"SEND_PIC_TO_GAL":return O()(e,{gallery:{$push:[{picId:new Date,picUrl:t.payload.url,picTitle:t.payload.title,picDate:t.payload.date}]}});case"REMOVE_PIC_FROM_GAL":return O()(e,{gallery:{$set:e.gallery.filter((function(e){return e.picTitle!==t.payload}))}});case"START_LOADER":return O()(e,{isLoader:{$set:!0}});case"STOP_LOADER":return O()(e,{isLoader:{$set:!1}});case"ALERT_YOUTUBE_OPEN":return O()(e,{isAlertOpen:{status:{$set:!0},text:{$set:t.payload.text},url:{$set:t.payload.url}}});case"ALERT_YOUTUBE_CLOSE":return O()(e,{isAlertOpen:{status:{$set:!1}}});case"ALERT_FUTURE_OPEN":return O()(e,{isAlertFutureOpen:{$set:!0}});case"ALERT_FUTURE_CLOSE":return O()(e,{isAlertFutureOpen:{$set:!1}});default:return e}}),Object(b.c)(Object(b.a)(Q),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Q.run(L),Q.run(M),Q.run(Y),Q.run(J),Q.run(X),l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,null,n.a.createElement(o.a,{store:B},n.a.createElement(g,null)))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.b20657df.chunk.js.map