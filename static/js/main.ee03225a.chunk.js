(this.webpackJsonpnasa=this.webpackJsonpnasa||[]).push([[0],{31:function(e,t,a){e.exports=a(46)},41:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=a(13),i=a(6),s=(a(40),a(41),a(16));var u=Object(o.b)((function(e){return{gallery:e.gallery,isLoader:e.isLoader}}),(function(e){return{}}))((function(e){var t=e.gallery,a=e.isLoader,n=void 0===a||a;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-info"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"NASA Calendar"),r.a.createElement("div",{className:"navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(s.b,{className:"nav-item nav-link",to:"/"},"Home"),r.a.createElement(s.b,{className:"nav-item nav-link",to:"/calendar"},"Calendar"),r.a.createElement(s.b,{className:"nav-item nav-link",to:"/gallery"},"Gallery ",r.a.createElement("sup",null,t.length))),r.a.createElement("div",{class:n?"spinner-border text-light nav_loader _active":"spinner-border text-light nav_loader",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))))}));function d(){return r.a.createElement("div",{className:"homepage"},r.a.createElement("h2",{className:"home-title"},"Nasa Picture Calendar"),r.a.createElement("div",{className:"logo_cont"},r.a.createElement("img",{src:"./assets/logo.png",alt:"homepage_logo"})))}var p=a(29);a(43);var m=Object(o.b)((function(e){return{currentDate:e.currentDate,currentImg:e.currentImg,currentPicTitle:e.currentPicTitle,currentPicExplanation:e.currentPicExplanation,currentPicDate:e.currentPicDate}}),(function(e){return{sendData:function(t){e({type:"SEND_REQUEST",payload:t})},setCurrentDate:function(t){e({type:"SET_CURRENT_DATE",payload:t})},onSendPicToGal:function(t,a,n){e({type:"SEND_PIC_TO_GAL",payload:{url:t,title:a,date:n}}),e({type:"SET_GALLERY_TO_LS"})},loaderActive:function(){e({type:"START_LOADER"})}}}))((function(e){var t=e.currentDate,a=e.currentImg,n=e.currentPicTitle,c=e.currentPicExplanation,l=e.currentPicDate,o=e.sendData,i=e.setCurrentDate,s=e.onSendPicToGal,u=e.loaderActive;function d(e){var t=!0,a=[],n=JSON.parse(localStorage.getItem("NASA_gallery"));return n&&(n.forEach((function(e){a.push(e.picTitle)})),t=!a.includes(e)),t}return r.a.createElement("div",{className:"calendar_page"},r.a.createElement("div",{className:"calendar_cont"},r.a.createElement(p.a,{onChange:function(e){e<new Date?(o(e),i(e),u()):alert("Sorry, chosen date is in future")},value:t})),r.a.createElement("div",{className:"card card_cont"},r.a.createElement("img",{src:a,className:"card-img-top",alt:"img_from_base"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},n),r.a.createElement("p",{className:"card-text"},c),r.a.createElement("button",{href:"#",onClick:function(e,t,a){a.preventDefault(),s(e,t,l),d(t),a.target.textContent="Added \u2713",a.target.setAttribute("disabled","true")}.bind(this,a,n),className:"btn btn-info",disabled:!d(n)},d(n)?"Add to Gallery":"Added \u2713"))))}));var E=Object(o.b)((function(e){return{galleryPics:e.gallery}}),(function(e){return{onRemovePic:function(t){e({type:"REMOVE_PIC_FROM_GAL",payload:t}),e({type:"SET_GALLERY_TO_LS"})}}}))((function(e){var t=this,a=e.galleryPics,n=e.onRemovePic;function c(e,t){t.preventDefault(),n(e)}return r.a.createElement("div",{className:"gallery_cont"},0===a.length?r.a.createElement("div",{className:"gallery__empty"},"Gallery is empty now. You can full it with 'Astronomy Pictures of the Day' ",r.a.createElement("p",null,"\ud83d\udcf7")):a.map((function(e,a){return r.a.createElement("div",{key:a,className:"card card_cont_gal"},r.a.createElement("a",{href:e.picUrl,target:"_blank",title:"click to look full photo",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.picUrl,className:"card-img-top",alt:"img_from_base"})),r.a.createElement("div",{className:"card-body gallery_card-body"},r.a.createElement("h5",{className:"card-title gallery_card_title"},e.picTitle),r.a.createElement("h6",null,e.picDate),r.a.createElement("button",{onClick:c.bind(t,e.picTitle),className:"btn btn-danger"},"Remove")))})))}));function f(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer_logo"},r.a.createElement("a",{href:"https://api.nasa.gov",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"./assets/logo.png",alt:"footer_link"}))),r.a.createElement("p",null,"Created by ",r.a.createElement("a",{href:"https://github.com/AntonKurdo",target:"_blank",rel:"noopener noreferrer"},"Anton Kurdo")))}var _=function(e){var t=e.getCurrentDate,a=e.getGalleryFromLS;return Object(n.useEffect)((function(){t(),a()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0},r.a.createElement(d,null)),r.a.createElement(i.a,{path:"/calendar"},r.a.createElement(m,null)),r.a.createElement(i.a,{path:"/gallery"},r.a.createElement(E,null))),r.a.createElement(f,null))},g=Object(o.b)((function(e){return{}}),(function(e){return{getCurrentDate:function(){e({type:"GET_CURRENT_DATE"})},getGalleryFromLS:function(){e({type:"GET_GALLERY_FROM_LS"})}}}))(_),y=a(30),b=a(14),v=a(15),h=a.n(v),T={currentImg:"",currentDate:new Date,currentPicTitle:"",currentPicExplanation:"",currentPicDate:"",gallery:[],isLoader:!1},S=a(7),N=a.n(S),D=a(9),A=N.a.mark(R),O=N.a.mark(x);function R(e){var t,a,n,r,c,l,o,i,s;return N.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return i=function(){return fetch(l).then((function(e){if(200===e.status)return e.json();o=!0})).then((function(e){return e}))},t=e.payload,a=t.getFullYear(),n=1===(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1):t.getMonth()+1,r=1===t.getDate().toString().length?"0"+t.getDate():t.getDate(),c="".concat(a,"-").concat(n,"-").concat(r),l="http://api.nasa.gov/planetary/apod?api_key=zpKx82ygfdep8Q6abpJX8DQJyKOns6ztJh3LeaAy&date=".concat(c),o=!1,u.next=10,Object(D.a)(i);case 10:if(s=u.sent,o){u.next=18;break}if(s.url.includes("youtube")){u.next=17;break}return u.next=15,Object(D.b)({type:"GET_DATA",payload:s});case 15:u.next=18;break;case 17:alert("Sorry, there is no picture on this date, but you can watch the video of day on the link: ".concat(s.url));case 18:return u.next=20,Object(D.b)({type:"STOP_LOADER"});case 20:case"end":return u.stop()}}),A)}function x(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)("SEND_REQUEST",R);case 2:case"end":return e.stop()}}),O)}var L=N.a.mark(U),w=N.a.mark(M),k=N.a.mark($),P=N.a.mark(F),j=N.a.mark(Y),G=N.a.mark(J),C=N.a.mark(Q);function I(e){var t=e.payload;localStorage.setItem("NASA_date",t)}function U(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("NASA_date"))){t.next=8;break}return t.next=4,Object(D.b)({type:"SET_CURRENT_DATE",payload:new Date(e)});case 4:return t.next=6,Object(D.b)({type:"SEND_REQUEST",payload:new Date(e)});case 6:t.next=12;break;case 8:return t.next=10,Object(D.b)({type:"SET_CURRENT_DATE",payload:new Date});case 10:return t.next=12,Object(D.b)({type:"SEND_REQUEST",payload:new Date});case 12:case"end":return t.stop()}}),L)}function M(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.c)((function(e){return e.gallery}));case 2:e=t.sent,localStorage.setItem("NASA_gallery",JSON.stringify(e));case 4:case"end":return t.stop()}}),w)}function $(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("NASA_gallery"))){t.next=4;break}return t.next=4,Object(D.b)({type:"SET_GALLERY_FROM_LS",payload:JSON.parse(e)});case 4:case"end":return t.stop()}}),k)}function F(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)("SET_CURRENT_DATE",I);case 2:case"end":return e.stop()}}),P)}function Y(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)("GET_CURRENT_DATE",U);case 2:case"end":return e.stop()}}),j)}function J(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)("SET_GALLERY_TO_LS",M);case 2:case"end":return e.stop()}}),G)}function Q(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)("GET_GALLERY_FROM_LS",$);case 2:case"end":return e.stop()}}),C)}var X=Object(y.a)(),K=Object(b.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DATA":return h()(e,{currentImg:{$set:t.payload.url},currentPicTitle:{$set:t.payload.title},currentPicExplanation:{$set:t.payload.explanation},currentPicDate:{$set:t.payload.date}});case"SET_CURRENT_DATE":return h()(e,{currentDate:{$set:t.payload}});case"SET_GALLERY_FROM_LS":return h()(e,{gallery:{$set:t.payload}});case"SEND_PIC_TO_GAL":return h()(e,{gallery:{$push:[{picId:new Date,picUrl:t.payload.url,picTitle:t.payload.title,picDate:t.payload.date}]}});case"REMOVE_PIC_FROM_GAL":return h()(e,{gallery:{$set:e.gallery.filter((function(e){return e.picTitle!==t.payload}))}});case"START_LOADER":return h()(e,{isLoader:{$set:!0}});case"STOP_LOADER":return h()(e,{isLoader:{$set:!1}});default:return e}}),Object(b.c)(Object(b.a)(X),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));X.run(x),X.run(F),X.run(Y),X.run(J),X.run(Q),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,null,r.a.createElement(o.a,{store:K},r.a.createElement(g,null)))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.ee03225a.chunk.js.map