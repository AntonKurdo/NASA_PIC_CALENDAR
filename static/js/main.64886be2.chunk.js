(this.webpackJsonpnasa=this.webpackJsonpnasa||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/logo.0e756da9.png"},32:function(e,t,a){e.exports=a(47)},42:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),l=a.n(c),o=a(14),u=a(6),i=(a(41),a(42),a(16));var s=function(e){return e.gallery},p=function(e){return e.isLoader},E=function(e){return e.gallery},d=function(e){return e.currentDate},m=function(e){return e.currentImg},_=function(e){return e.currentPicTitle},f=function(e){return e.currentPicExplanation},y=function(e){return e.currentPicDate},g=function(e){return e.isAlertOpen},b=function(e){return e.isAlertFutureOpen},v=Object(o.b)((function(e){return{gallery:s(e),isLoader:p(e)}}),(function(e){return{}}))((function(e){var t=e.gallery,a=e.isLoader,r=void 0===a||a;return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-info"},n.a.createElement("a",{className:"navbar-brand",href:"#"},"NASA Calendar"),n.a.createElement("div",{className:"navbar-collapse",id:"navbarNavAltMarkup"},n.a.createElement("div",{className:"navbar-nav"},n.a.createElement(i.b,{className:"nav-item nav-link",to:"/"},"Home"),n.a.createElement(i.b,{className:"nav-item nav-link",to:"/calendar"},"Calendar"),n.a.createElement(i.b,{className:"nav-item nav-link",to:"/gallery"},"Gallery ",n.a.createElement("sup",null,t.length))),n.a.createElement("div",{className:r?"spinner-border text-light nav_loader _active":"spinner-border text-light nav_loader",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))))})),O=a(21),T=a.n(O);function A(){return n.a.createElement("div",{className:"homepage"},n.a.createElement("h2",{className:"home-title"},"Nasa Picture Calendar"),n.a.createElement("div",{className:"logo_cont"},n.a.createElement("img",{src:T.a,alt:"homepage_logo"})))}var h=a(30);a(44);var N=Object(o.b)((function(e){return{currentDate:d(e),currentImg:m(e),currentPicTitle:_(e),currentPicExplanation:f(e),currentPicDate:y(e),isAlertOpen:g(e),isAlertFutureOpen:b(e)}}),(function(e){return{sendData:function(t){e({type:"SEND_REQUEST",payload:t})},setCurrentDate:function(t){e({type:"SET_CURRENT_DATE",payload:t})},onSendPicToGal:function(t,a,r){e({type:"SEND_PIC_TO_GAL",payload:{url:t,title:a,date:r}}),e({type:"SET_GALLERY_TO_LS"})},loaderActive:function(){e({type:"START_LOADER"})},onCloseAlert:function(){e({type:"ALERT_YOUTUBE_CLOSE"})},onOpenAlertFuture:function(){e({type:"ALERT_FUTURE_OPEN"})},onCloseAlertFuture:function(){e({type:"ALERT_FUTURE_CLOSE"})}}}))((function(e){var t=e.currentDate,a=e.currentImg,r=e.currentPicTitle,c=e.currentPicExplanation,l=e.currentPicDate,o=e.isAlertOpen,u=e.isAlertFutureOpen,i=e.sendData,s=e.setCurrentDate,p=e.onSendPicToGal,E=e.loaderActive,d=e.onCloseAlert,m=e.onOpenAlertFuture,_=e.onCloseAlertFuture;function f(e){var t=!0,a=[],r=JSON.parse(localStorage.getItem("NASA_gallery"));return r&&(r.forEach((function(e){a.push(e.picTitle)})),t=!a.includes(e)),t}return n.a.createElement("div",{className:"calendar_page"},n.a.createElement("div",{className:o.status?"alert alert-danger calendar__alert _active":"alert alert-danger calendar__alert",role:"alert"},n.a.createElement("span",{role:"img","aria-label":"emoji"},"\u26a0\ufe0f")," ",o.text,n.a.createElement("a",{href:o.url,onClick:d,target:"_blank",rel:"noopener noreferrer"},"link"),n.a.createElement("div",{onClick:d},"X")),n.a.createElement("div",{className:u?"alert alert-warning calendar__alert _active":"alert alert-warning calendar__alert",role:"alert"},n.a.createElement("span",null," Sorry, chosen date is only in future "),n.a.createElement("div",{onClick:_},"X")),n.a.createElement("div",{className:"calendar_cont"},n.a.createElement(h.a,{onChange:function(e){e<new Date?(i(e),s(e),E(),d(),_()):m()},value:t})),n.a.createElement("div",{className:"card card_cont"},n.a.createElement("img",{src:a,className:"card-img-top",alt:"img_from_base"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},r),n.a.createElement("p",{className:"card-text"},c),n.a.createElement("button",{href:"#",onClick:function(e,t,a){a.preventDefault(),p(e,t,l),f(t),a.target.textContent="Added \u2713",a.target.setAttribute("disabled","true")}.bind(this,a,r),className:"btn btn-info",disabled:!f(r)},f(r)?"Add to Gallery":"Added \u2713"))))}));var S=Object(o.b)((function(e){return{galleryPics:E(e)}}),(function(e){return{onRemovePic:function(t){e({type:"REMOVE_PIC_FROM_GAL",payload:t}),e({type:"SET_GALLERY_TO_LS"})}}}))((function(e){var t=this,a=e.galleryPics,r=e.onRemovePic;function c(e,t){t.preventDefault(),r(e)}return n.a.createElement("div",{className:"gallery_cont"},0===a.length?n.a.createElement("div",{className:"gallery__empty"},"Gallery is empty now. You can full it with 'Astronomy Pictures of the Day' ",n.a.createElement("p",null,"\ud83d\udcf7")):a.map((function(e,a){return n.a.createElement("div",{key:a,className:"card card_cont_gal"},n.a.createElement("a",{href:e.picUrl,target:"_blank",title:"click to look full photo",rel:"noopener noreferrer"},n.a.createElement("img",{src:e.picUrl,className:"card-img-top",alt:"img_from_base"})),n.a.createElement("div",{className:"card-body gallery_card-body"},n.a.createElement("h5",{className:"card-title gallery_card_title"},e.picTitle),n.a.createElement("h6",null,e.picDate),n.a.createElement("button",{onClick:c.bind(t,e.picTitle),className:"btn btn-danger"},"Remove")))})))}));function R(){return n.a.createElement("div",{className:"footer"},n.a.createElement("div",{className:"footer_logo"},n.a.createElement("a",{href:"https://api.nasa.gov",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:T.a,alt:"footer_link"}))),n.a.createElement("p",null,"Created by ",n.a.createElement("a",{href:"https://github.com/AntonKurdo",target:"_blank",rel:"noopener noreferrer"},"Anton Kurdo")))}var D=function(e){var t=e.getCurrentDate,a=e.getGalleryFromLS;return Object(r.useEffect)((function(){t(),a()}),[]),n.a.createElement("div",{className:"App"},n.a.createElement(v,null),n.a.createElement(u.c,null,n.a.createElement(u.a,{path:"/",exact:!0},n.a.createElement(A,null)),n.a.createElement(u.a,{path:"/calendar"},n.a.createElement(N,null)),n.a.createElement(u.a,{path:"/gallery"},n.a.createElement(S,null))),n.a.createElement(R,null))},L=Object(o.b)((function(e){return{}}),(function(e){return{getCurrentDate:function(){e({type:"GET_CURRENT_DATE"})},getGalleryFromLS:function(){e({type:"GET_GALLERY_FROM_LS"})}}}))(D),x=a(31),w=a(15),k=a(13),C=a.n(k),P={currentImg:"",currentDate:new Date,currentPicTitle:"",currentPicExplanation:"",currentPicDate:"",gallery:[],isLoader:!1,isAlertOpen:{status:!1,text:"",url:"https://www.youtube.com/"},isAlertFutureOpen:!1},U=a(7),j=a.n(U),G=a(8),F=j.a.mark($),I=j.a.mark(M);function $(e){var t,a,r,n,c,l,o,u,i;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return u=function(){return fetch(l).then((function(e){if(200===e.status)return e.json();o=!0})).then((function(e){return e}))},t=e.payload,a=t.getFullYear(),r=1===(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1):t.getMonth()+1,n=1===t.getDate().toString().length?"0"+t.getDate():t.getDate(),c="".concat(a,"-").concat(r,"-").concat(n),l="https://api.nasa.gov/planetary/apod?api_key=zpKx82ygfdep8Q6abpJX8DQJyKOns6ztJh3LeaAy&date=".concat(c),o=!1,s.next=10,Object(G.a)(u);case 10:if(i=s.sent,o){s.next=19;break}if(i.url.includes("youtube")){s.next=17;break}return s.next=15,Object(G.b)({type:"GET_DATA",payload:i});case 15:s.next=19;break;case 17:return s.next=19,Object(G.b)({type:"ALERT_YOUTUBE_OPEN",payload:{text:"Sorry, there is no picture on this date, but you can watch the video of the day on the ",url:i.url}});case 19:return s.next=21,Object(G.b)({type:"STOP_LOADER"});case 21:case"end":return s.stop()}}),F)}function M(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("SEND_REQUEST",$);case 2:case"end":return e.stop()}}),I)}var Y=j.a.mark(H),J=j.a.mark(q),X=j.a.mark(W),Q=j.a.mark(Z),B=j.a.mark(ee),K=j.a.mark(te),V=j.a.mark(ae);function z(e){var t=e.payload;localStorage.setItem("NASA_date",t)}function H(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("NASA_date"))){t.next=8;break}return t.next=4,Object(G.b)({type:"SET_CURRENT_DATE",payload:new Date(e)});case 4:return t.next=6,Object(G.b)({type:"SEND_REQUEST",payload:new Date(e)});case 6:t.next=12;break;case 8:return t.next=10,Object(G.b)({type:"SET_CURRENT_DATE",payload:new Date});case 10:return t.next=12,Object(G.b)({type:"SEND_REQUEST",payload:new Date});case 12:case"end":return t.stop()}}),Y)}function q(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.c)((function(e){return e.gallery}));case 2:e=t.sent,localStorage.setItem("NASA_gallery",JSON.stringify(e));case 4:case"end":return t.stop()}}),J)}function W(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.getItem("NASA_gallery"))){t.next=4;break}return t.next=4,Object(G.b)({type:"SET_GALLERY_FROM_LS",payload:JSON.parse(e)});case 4:case"end":return t.stop()}}),X)}function Z(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("SET_CURRENT_DATE",z);case 2:case"end":return e.stop()}}),Q)}function ee(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("GET_CURRENT_DATE",H);case 2:case"end":return e.stop()}}),B)}function te(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("SET_GALLERY_TO_LS",q);case 2:case"end":return e.stop()}}),K)}function ae(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("GET_GALLERY_FROM_LS",W);case 2:case"end":return e.stop()}}),V)}var re=Object(x.a)(),ne=Object(w.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DATA":return C()(e,{currentImg:{$set:t.payload.url},currentPicTitle:{$set:t.payload.title},currentPicExplanation:{$set:t.payload.explanation},currentPicDate:{$set:t.payload.date}});case"SET_CURRENT_DATE":return C()(e,{currentDate:{$set:t.payload}});case"SET_GALLERY_FROM_LS":return C()(e,{gallery:{$set:t.payload}});case"SEND_PIC_TO_GAL":return C()(e,{gallery:{$push:[{picId:new Date,picUrl:t.payload.url,picTitle:t.payload.title,picDate:t.payload.date}]}});case"REMOVE_PIC_FROM_GAL":return C()(e,{gallery:{$set:e.gallery.filter((function(e){return e.picTitle!==t.payload}))}});case"START_LOADER":return C()(e,{isLoader:{$set:!0}});case"STOP_LOADER":return C()(e,{isLoader:{$set:!1}});case"ALERT_YOUTUBE_OPEN":return C()(e,{isAlertOpen:{status:{$set:!0},text:{$set:t.payload.text},url:{$set:t.payload.url}}});case"ALERT_YOUTUBE_CLOSE":return C()(e,{isAlertOpen:{status:{$set:!1}}});case"ALERT_FUTURE_OPEN":return C()(e,{isAlertFutureOpen:{$set:!0}});case"ALERT_FUTURE_CLOSE":return C()(e,{isAlertFutureOpen:{$set:!1}});default:return e}}),Object(w.c)(Object(w.a)(re),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));re.run(M),re.run(Z),re.run(ee),re.run(te),re.run(ae),l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,null,n.a.createElement(o.a,{store:ne},n.a.createElement(L,null)))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.64886be2.chunk.js.map